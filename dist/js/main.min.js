const tabBtns=document.querySelectorAll(".bankrot__tabs-item"),tabsItem=document.querySelectorAll(".bankrot__content");tabBtns.forEach((e=>{e.addEventListener("click",(()=>{console.log(23);let r=e,t=r.getAttribute("data-tab"),a=document.querySelector(t);r.classList.contains("active")||(tabBtns.forEach((e=>e.classList.remove("active"))),tabsItem.forEach((e=>e.classList.remove("active"))),r.classList.add("active"),a.classList.add("active"))}))}));const overlay=document.querySelector("#overlayForModal"),modal=document.querySelector(".modal"),cross=document.querySelector(".modal__cross"),buttonOpen=document.querySelectorAll(".open-modal"),modalToggle=()=>{overlay.classList.toggle("show-overlay"),modal.classList.toggle("show-modal")},handlerOverlay=({target:e})=>{const r=e.classList;(r.contains("open-modal")||r.contains("overlay"))&&modalToggle()};buttonOpen.forEach((e=>{e.addEventListener("click",handlerOverlay)})),cross.addEventListener("click",modalToggle),overlay.addEventListener("click",handlerOverlay);const drawer=document.querySelector(".drawer"),burger=document.querySelector("#burger"),drawerBtn=document.querySelector(".drawer__btn"),drawerCross=document.querySelector(".drawer__cross"),overlayForDrawer=document.querySelector("#overlayForDrawer"),openModalInDrawer=document.querySelector("#openModalInDrawer"),drawerToggle=()=>{overlayForDrawer.classList.toggle("show-overlay"),drawer.classList.toggle("show-drawer")},closeDrawer=async()=>{drawer.classList.add("close-drawer"),await new Promise(((e,r)=>{setTimeout((()=>{overlayForDrawer.classList.remove("show-overlay"),drawer.classList.remove("show-drawer","close-drawer")}),400)})),await clearTimeout()},closeDrawerOpenModal=async()=>{drawer.classList.add("close-drawer"),await new Promise(((e,r)=>{setTimeout((()=>{overlayForDrawer.classList.remove("show-overlay"),drawer.classList.remove("show-drawer","close-drawer"),e(!0)}),400)})).then((e=>{modalToggle()}))};burger.addEventListener("click",drawerToggle),drawerCross.addEventListener("click",closeDrawer),openModalInDrawer.addEventListener("click",closeDrawerOpenModal),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".tel"),(function(e){var r;function t(e){e.keyCode&&(r=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",a=0,o=t.replace(/\D/g,""),l=this.value.replace(/\D/g,""),s=t.replace(/[_\d]/g,(function(e){return a<l.length?l.charAt(a++)||o.charAt(a):e}));-1!=(a=s.indexOf("_"))&&(a<5&&(a=3),s=s.slice(0,a));var n=t.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(n=new RegExp("^"+n+"$")).test(this.value)||this.value.length<5||r>47&&r<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)}))}));const forms=document.querySelectorAll(".callback-form");forms.forEach((e=>e.addEventListener("submit",(e=>{e.preventDefault();const r=e.target.querySelector('[name="name"]'),t=e.target.querySelector('[name="phone"]'),a=e.target.querySelector("button");a.innerHTML="Отправляем...",sendForm(r,t,a)}))));const sendForm=async(e,r,t)=>{const a=document.querySelectorAll(".form-title-h5");try{let o=new FormData;o.append("name",e.value),o.append("phone",r.value);200===(await fetch("../../send.php",{method:"POST",body:o})).status&&(e.value="",r.value="",e.classList.add("display-none"),r.classList.add("display-none"),a.forEach((e=>e.innerHTML="Спасибо! Мы свяжемся с Вами в ближайшее время")),t.innerHTML="Отправлено!",t.classList.add("done-gradient"))}catch(e){console.log(e),t.innerHTML="Что-то пошло не так..."}};